\documentclass[12pt,twoside]{article}
\usepackage[a4paper,margin=25mm,top=30mm]{geometry}
\usepackage{ctable,fancyhdr,osf-txfonts}
\parindent0pt
\pagestyle{fancy}
\headheight=15pt
\fancyhead{}%\fancyfoot{}
\bibliographystyle{plain}
\author{Wybo Dekker}
\title{Some tests for ctable}
\begin{document}
\maketitle
\listoftables
\clearpage
This text shows some tests. The heading is used to tell what is being tested, so
use one page per test and use fancyhead to set the heading. 
\clearpage

\fancyhead[C]{notespar sets notes in a block}
\ctable[
  caption=Notes in tabular form,
]{l}{
  \tnote[a]{note.}
  \tnote[b]{other note.}
  \tnote[c]{yet another.}
  \tnote[d]{fourth note; this is a lengthy one, long enough to be wider than the table.}
}{\FL
Some\tmark[a] text\tmark[b] for the first line\NN
and some\tmark[c] for the second line\tmark[d]\LL
}

\ctable[
  caption=Notes in a block,
  notespar
]{l}{
  \tnote[a]{note.}
  \tnote[b]{other note.}
  \tnote[c]{yet another.}
  \tnote[d]{fourth note; this is a lengthy one, long enough to be wider than the table.}
}{\FL
Some\tmark[a] text\tmark[b] for the first line\NN
and some\tmark[c] for the second line\tmark[d]\LL
}

\clearpage
\fancyhead[C]{A figure}
\ctable[figure,botcap,caption=Terminology]{c}{}{\includegraphics{metrics}}

\clearpage

\fancyhead[C]{captionskip; first: without ctable}
\begin{table}[h]\begin{center}
  \caption{x top caption}
  \begin{tabular}{c}\hline a single line tabular\tabularnewline\hline\end{tabular}
  \setcounter{table}{0}
  \caption{x bottom caption}
\end{center}\end{table}

Without ascenders and descenders:
\begin{table}[h]\begin{center}
  \setcounter{table}{0}
  \caption{xxx}
  \begin{tabular}{c}\hline a single line tabular\tabularnewline\hline\end{tabular}
  \setcounter{table}{0}
  \caption{xxx}
\end{center}\end{table}

\begin{table}[h]\begin{center}
  \setcounter{table}{0}
  \caption{xpx}
  \begin{tabular}{c}\hline a single line tabular\tabularnewline\hline\end{tabular}
  \setcounter{table}{0}
  \caption{xTx}
\end{center}\end{table}

\clearpage
\fancyhead[C]{captionskip; now ctable: default 2ex, test 4ex}
\setcounter{table}{0}
\ctable[pos=h!,caption=xxx,doinside=\scriptsize]{c}{}{\FL a single line ctable\LL}
\setcounter{table}{0}
\ctable[pos=h!,botcap,caption=xxx]{c}{}{\FL a single line ctable\LL}
\setcounter{table}{0}
\ctable[pos=h!,captionskip=4ex,caption=xxx]{c}{}{\FL a single line ctable\LL}
\setcounter{table}{0}
\ctable[pos=h!,botcap,captionskip=4ex,caption=xxx]{c}{}{\FL a single line ctable\LL}

\clearpage
\fancyhead[C]{captionskip; now ctable: default 2ex, test 4ex}
\setcounter{table}{0}
\ctable[pos=h!,caption=xpx]{c}{}{\FL a single line ctable\LL}
\setcounter{table}{0}
\ctable[pos=h!,botcap,caption=xTx]{c}{}{\FL a single line ctable\LL}
\setcounter{table}{0}
\ctable[pos=h!,captionskip=4ex,caption=xpx]{c}{}{\FL a single line ctable\LL}
\setcounter{table}{0}
\ctable[pos=h!,botcap,captionskip=4ex,caption=xTx]{c}{}{\FL a single line ctable\LL}

\clearpage
\fancyhead[C]{CENTERED}

\def\CAP{Zetmeel (enzymatisch), gebruikte enzymen}
\newlength{\capwidth}\settowidth{\capwidth}{Table 3: \CAP}
\ctable[
  pos=h,
  framerule=1pt,
  framebg=1 .9 .9,
  caption={\CAP}
]{llc}{}{\FL
lab& tijd & temperatuur \NN
   & & (C) \ML
02 & 1 & 60 \NN
10 & 4 & 60 \NN
23 & 16 & 60 \NN
26 & 12 & 60 \LL
}

\ctable[
  pos=h,
  framerule=1pt,
  framebg=.9 1 .9,
  mincapwidth=\capwidth,
  caption={\CAP}
]{llc}{}{\FL
lab& tijd & temperatuur \NN
   & & (C) \ML
02 & 1 & 60 \NN
10 & 4 & 60 \NN
23 & 16 & 60 \NN
26 & 12 & 60 \LL
}
\clearpage

\fancyhead[C]{RIGHT ALIGNED}


\ctable[
  pos=h,
  right,
  framerule=1pt,
  framebg=.9 .9 1,
  width=\capwidth,
  caption={\CAP}
]{llX}{}{\FL
lab& tijd & temperatuur \NN
   & & (C) \ML
02 & 1 & 60 \NN
10 & 4 & 60 \NN
23 & 16 & 60 \NN
26 & 12 & 60 \LL
}

\ctable[
  pos=h,
  right,
  framerule=1pt,
  framebg=1 .9 .9,
  caption={\CAP}
]{llc}{}{\FL
lab& tijd & temperatuur \NN
   & & (C) \ML
02 & 1 & 60 \NN
10 & 4 & 60 \NN
23 & 16 & 60 \NN
26 & 12 & 60 \LL
}

\ctable[
  pos=h,
  right,
  framerule=1pt,
  framebg=.9 1 .9,
  mincapwidth=\capwidth,
  caption={\CAP}
]{llc}{}{\FL
lab& tijd & temperatuur \NN
   & & (C) \ML
02 & 1 & 60 \NN
10 & 4 & 60 \NN
23 & 16 & 60 \NN
26 & 12 & 60 \LL
}

\clearpage
\fancyhead[C]{LEFT ALIGNED}


\ctable[
  pos=h,
  left,
  framerule=1pt,
  framebg=.9 .9 1,
  width=\capwidth,
  caption={\CAP}
]{llX}{}{\FL
lab& tijd & temperatuur \NN
   & & (C) \ML
02 & 1 & 60 \NN
10 & 4 & 60 \NN
23 & 16 & 60 \NN
26 & 12 & 60 \LL
}

\ctable[
  pos=h,
  left,
  framerule=1pt,
  framebg=1 .9 .9,
  caption={\CAP}
]{llc}{}{\FL
lab& tijd & temperatuur \NN
   & & (C) \ML
02 & 1 & 60 \NN
10 & 4 & 60 \NN
23 & 16 & 60 \NN
26 & 12 & 60 \LL
}

\ctable[
  pos=h,
  left,
  framerule=1pt,
  framebg=.9 1 .9,
  mincapwidth=\capwidth,
  caption={\CAP}
]{llc}{}{\FL
lab& tijd & temperatuur \NN
   & & (C) \ML
02 & 1 & 60 \NN
10 & 4 & 60 \NN
23 & 16 & 60 \NN
26 & 12 & 60 \LL
}

\clearpage

\fancyhead[C]{BIG CAPTION AND FOOTNOTE, SMALL TABLE, MINCAPWIDTH=111mm}


 
\def\CAP{%
We thrive in information||thick worlds because of our
marvelous and everyday capacity to select, edit,
single out, structure, highlight, group, pair, merge,
harmonize, synthesize, focus, organize, condense,
reduce, boil down, choose, categorize, catalog, classify,
list, abstract, scan, look into, idealize, isolate,
discriminate, distinguish, screen, pigeonhole, pick over,
sort, integrate, blend, inspect, filter, lump, skip,
smooth, chunk, average, approximate, cluster, aggregate,
outline, summarize, itemize, review, dip into,
flip through, browse, glance into, leaf through, skim,
refine, enumerate, glean, synopsize, winnow the wheat
from the chaff and separate the sheep from the goats.}
{\LARGE
\ctable[
  caption={\CAP},
  mincapwidth=111mm
]{l} {\tnote{\input{tufte}}}
{\FL Anzahl \LL }
}

\clearpage
\fancyhead[C]{FULL WIDTH FIGURE MUST FIT IN TEXTWIDTH}
\CAP
\ctable{@{}c@{}}{}{\FL\includegraphics[width=\textwidth]{metrics}\LL}

\clearpage
\fancyhead[C]{NO ENTRY IN LOT}
\ctable[
  caption={This table should be seen in the LOT},
  mincapwidth=111mm
]{l} {\tnote{\input{tufte}}}
{\FL Anzahl \LL }

\ctable[
  caption={This table should not be seen in the LOT},
  cap=,
  mincapwidth=111mm
]{l} {\tnote{\input{tufte}}}
{\FL Anzahl\LL }

\ctable[
  caption={This table should appear sideways},
  mincapwidth=111mm,sideways
]{l} {}{\FL
     It should show its caption at the left for articles\NN
     and left on odd, right on even pages,\NN
     because that's the default for the rotating package\LL
}

\ctable[
  caption={This table should appear sideways},
  mincapwidth=111mm,sideways
]{l} {}{\FL
     It should show its caption at the left for articles\NN
     and left on odd, right on even pages if this is a book,\NN
     because that's the default for the rotating package\LL
}

\setupctable{captionsright}

\ctable[
  caption={This table should appear sideways},
  mincapwidth=111mm,sideways
]{l} {}{\FL
     It should show its caption at the right,\NN
     because setupctable{captionsright} was called\LL
}

\ctable[
  caption={This table should appear sideways},
  mincapwidth=111mm,sideways
]{l} {}{\FL
     It should show its caption at the right,\NN
     because setupctable{captionsright} was called\LL
}

\setupctable{captionsinside}

\ctable[
  caption={This table should appear sideways},
  mincapwidth=111mm,sideways
]{l} {}{\FL
     It should show its caption at the inside of the book,\NN
     i.e.\ left on even, right on odd pages in books (where twoside is default)\NN
     and all left in articles (where oneside is the default)\NN
     because setupctable{captionsinside} was called\LL
}

\ctable[
  caption={This table should appear sideways},
  mincapwidth=111mm,sideways
]{l} {}{\FL
     It should show its caption at the inside of the book,\NN
     i.e.\ left on even, right on odd pages in books (where twoside is default)\NN
     and all left in articles (where oneside is the default)\NN
     because setupctable{captionsinside} was called\LL
}

\end{document}
$Id$
